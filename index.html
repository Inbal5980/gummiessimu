<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×—Ö¶×“Ö¶×¨ ×¡Ö»×›Ö¸Ö¼×¨Ö´×™Ö¼×•Ö¹×ª ×”Ö·×’Ö¼×•Ö¼×Ö´×™ - ×Ö´×¤Ö°×¢Ö·×œ ×”Ö·×Ö·Ö¼×Ö°×ªÖ·Ö¼×§Ö´Ö¼×™×</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FFE5E5 0%, #FFF0F5 50%, #E5F0FF 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .container {
            width: 100vw;
            height: 100vh;
            max-width: 100%;
            background: linear-gradient(135deg, #FFB6C1 0%, #DDA0DD 50%, #87CEEB 100%);
            box-shadow: 0 1vh 3vh rgba(0,0,0,0.3);
            padding: 2vh 3vw;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        @media (min-width: 1024px) {
            .container {
                width: 90vw;
                height: 90vh;
                border-radius: 2vh;
                max-width: 1600px;
            }
        }
        
        .header {
            text-align: center;
            margin-bottom: 2vh;
            background: rgba(255, 255, 255, 0.9);
            padding: 1.5vh;
            border-radius: 1.5vh;
            box-shadow: 0 0.5vh 1.5vh rgba(0,0,0,0.2);
            z-index: 10;
        }
        
        .header h1 {
            color: #FF1493;
            font-size: 3.5vh;
            text-shadow: 0.2vh 0.2vh 0.4vh rgba(255,105,180,0.3);
            margin-bottom: 0.5vh;
        }
        
        .question {
            color: #8B4513;
            font-size: 2vh;
            line-height: 1.4;
            font-weight: bold;
        }

        .hint-text {
            font-size: 1.8vh;
            color: #FF1493;
            margin-top: 0.5vh;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        .main-content {
            display: flex;
            gap: 2vw;
            flex: 1;
            margin-bottom: 1vh;
            overflow: hidden;
        }
        
        .gummy-area {
            flex: 2;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 1.5vh;
            padding: 2vh 2vw;
            box-shadow: 0 0.5vh 1.5vh rgba(0,0,0,0.2);
            overflow-y: auto;
            position: relative;
        }
        
        .gummy-area::-webkit-scrollbar {
            width: 10px;
        }
        .gummy-area::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.3);
            border-radius: 5px;
        }
        .gummy-area::-webkit-scrollbar-thumb {
            background: #FF69B4;
            border-radius: 5px;
        }
        
        .gummy-section {
            margin-bottom: 2.5vh;
        }
        
        .gummy-section h3 {
            font-size: 2.2vh;
            margin-bottom: 1vh;
            display: flex;
            align-items: center;
            gap: 1vw;
        }
        
        .gummy-display {
            display: flex;
            flex-direction: column; 
            gap: 1vh;
            padding: 1vh;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 1vh;
        }
        
        .ten-group {
            display: flex;
            flex-wrap: wrap; 
            gap: 0.5vw;
            padding: 0.5vh 1vw;
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 50px; 
            align-items: center;
            width: fit-content;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .ten-group.full-ten {
            cursor: pointer;
            border-color: rgba(0,0,0,0.1);
        }

        .ten-group.full-ten:hover {
            background-color: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
            transform: scale(1.02);
        }

        .ten-group.remainder {
            background-color: transparent;
        }

        .gummy {
            font-size: 2.8vh;
            transition: all 0.2s;
            cursor: pointer;
            user-select: none;
            position: relative;
        }
        
        .ten-group.remainder .gummy:hover {
            transform: scale(1.3);
            z-index: 5;
        }
        
        .gummy.counted {
            opacity: 0.4;
            transform: scale(0.85);
            filter: grayscale(100%) !important;
        }

        .gummy.counted::after {
            content: 'âœ“';
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 1.5vh;
            color: #228B22;
            font-weight: bold;
            background: rgba(255,255,255,0.8);
            border-radius: 50%;
            width: 2vh;
            height: 2vh;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        
        .green { 
            color: #32CD32; 
            filter: hue-rotate(90deg) brightness(1.1) drop-shadow(1px 1px 0px rgba(0,0,0,0.2)); 
        }
        .red { 
            color: #FF4500; 
            filter: hue-rotate(340deg) saturate(5) brightness(0.9) drop-shadow(1px 1px 0px rgba(0,0,0,0.2)); 
        }
        .blue { 
            color: #1E90FF; 
            filter: hue-rotate(210deg) brightness(1.5) drop-shadow(1px 1px 0px rgba(0,0,0,0.2)); 
        }
        
        .calculation-area {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1.5vh;
            padding: 2.5vh 2vw;
            box-shadow: 0 0.5vh 1.5vh rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            gap: 2vh;
            justify-content: flex-start;
            z-index: 10;
        }
        
        .calc-title {
            text-align: center;
            color: #FF6347;
            font-size: 2.5vh;
            font-weight: bold;
            margin-bottom: 1vh;
            border-bottom: 2px dashed #FFB6C1;
            padding-bottom: 1vh;
        }
        
        .calc-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1vw;
            font-size: 2.5vh;
            font-weight: bold;
            flex-wrap: nowrap; /* ×©×™× ×•×™ ×—×©×•×‘: ××•× ×¢ ×©×‘×™×¨×ª ×©×•×¨×” */
            direction: ltr;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .input-label {
            font-size: 1.5vh;
            color: #666;
            margin-bottom: 0.5vh;
        }
        
        .calc-input {
            width: 12vw;
            min-width: 80px; /* ×”×§×˜× ×” ×§×œ×” ×›×“×™ ×œ×× ×•×¢ ×’×œ×™×©×” */
            padding: 1vh;
            font-size: 3vh;
            text-align: center;
            border: 0.3vh solid #FF69B4;
            border-radius: 1vh;
            font-weight: bold;
            background: #fff;
            transition: all 0.3s;
        }

        .calc-input.updated {
            background-color: #FFFACD;
            transform: scale(1.1);
            border-color: #32CD32;
        }

        .calc-input:focus {
            outline: none;
            border-color: #9370DB;
            background: #F0F8FF;
        }
        
        .calc-operator {
            font-size: 3vh;
            color: #FF1493;
            font-weight: 900;
        }
        
        .calc-button {
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            padding: 1.5vh 2vw;
            font-size: 2.2vh;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0.5vh 1vh rgba(0,0,0,0.2);
            transition: all 0.3s;
            margin-top: 1vh;
            width: 100%;
        }
        
        .calc-button:hover {
            transform: translateY(-0.3vh) scale(1.02);
            box-shadow: 0 0.8vh 1.5vh rgba(255,105,180,0.4);
            background: linear-gradient(135deg, #FF1493, #C71585);
        }
        
        .result-area {
            text-align: center;
            margin-top: auto;
            padding: 2vh;
            background: rgba(255, 250, 205, 0.5);
            border-radius: 1vh;
            min-height: 10vh;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }
        
        .result {
            font-size: 2.2vh;
            font-weight: bold;
            color: #228B22;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .error {
            color: #FF4500;
        }
        
        .floating-candy {
            position: absolute;
            font-size: 4vh;
            animation: float 6s ease-in-out infinite;
            opacity: 0.6;
            pointer-events: none;
            z-index: 1;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-2vh) rotate(10deg); }
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
                overflow-y: auto;
            }
            .gummy-area {
                flex: none;
                height: 40vh;
            }
            .calculation-area {
                flex: none;
            }
            .calc-input {
                width: 15vw;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ××œ×× ×˜×™× ××¨×—×¤×™× -->
        <div class="floating-candy" style="top: 5%; left: 10%; animation-delay: 0s;">ğŸ¬</div>
        <div class="floating-candy" style="top: 15%; right: 15%; animation-delay: 1s;">ğŸ­</div>
        <div class="floating-candy" style="bottom: 20%; left: 8%; animation-delay: 2s;">ğŸ¡</div>
        <div class="floating-candy" style="bottom: 10%; right: 12%; animation-delay: 3s;">ğŸ§</div>
        <div class="floating-candy" style="top: 50%; left: 50%; opacity: 0.2; font-size: 10vh; animation-duration: 10s;">ğŸ©</div>
        
        <!-- ×›×•×ª×¨×ª -->
        <div class="header">
            <h1>ğŸ¬ ×—Ö¶×“Ö¶×¨ ×¡Ö»×›Ö¸Ö¼×¨Ö´×™Ö¼×•Ö¹×ª ×”Ö·×’Ö¼×•Ö¼×Ö´×™ ğŸ¬</h1>
            <div class="question">
                ×‘Ö·Ö¼×Ö²×¨×•Ö¹×Ÿ ×”Ö·× Ö´Ö¼×¡Ö¼×•Ö¼×™Ö´×™× × Ö´×Ö°×¦Ö°××•Ö¼ ×“Ö»Ö¼×‘Ö¼×•Ö¹× Öµ×™ ×’Ö¼×•Ö¼×Ö´×™ ×‘Ö°Ö¼×¦Ö°×‘Ö¸×¢Ö´×™× ×©××•Ö¹× Ö´×™×.<br>
                <strong>×‘Ö°Ö¼×›Ö·×Ö¸Ö¼×” ×§Ö¸×˜Ö¸×Ÿ ×Ö´×¡Ö°×¤Ö·Ö¼×¨ ×“Ö»Ö¼×‘Ö¼×•Ö¹× Öµ×™ ×”Ö·×’Ö¼×•Ö¼×Ö´×™ ×”Ö·×™Ö°Ö¼×¨Ö»×§Ö´Ö¼×™× ×Ö´×Ö´Ö¼×¡Ö°×¤Ö·Ö¼×¨ ×“Ö»Ö¼×‘Ö¼×•Ö¹× Öµ×™ ×”Ö·×’Ö¼×•Ö¼×Ö´×™ ×”Ö¸×Ö²×“Ö»×Ö´Ö¼×™×?</strong>
                <div class="hint-text">ğŸ‘† ×˜Ö´×™×¤Ö¼: ×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ×©××•Ö¼×¨×•Ö¹×ª ×”Ö·-10 ×›Ö°Ö¼×“Öµ×™ ×œÖ´×¡Ö°×¤Ö¹Ö¼×¨ ×Ö·×”Öµ×¨ ×™×•Ö¹×ªÖµ×¨! ğŸ‘†</div>
            </div>
        </div>
        
        <!-- ×ª×•×›×Ÿ ×¨××©×™ -->
        <div class="main-content">
            <!-- ××–×•×¨ ×”×“×•×‘×•× ×™× -->
            <div class="gummy-area">
                <div class="gummy-section">
                    <h3 class="green">×“Ö»Ö¼×‘Ö¼×•Ö¹× Öµ×™ ×’Ö¼×•Ö¼×Ö´×™ ×™Ö°×¨Ö»×§Ö´Ö¼×™×: 23</h3>
                    <div class="gummy-display" id="greenGummies"></div>
                </div>
                
                <div class="gummy-section">
                    <h3 class="red">×“Ö»Ö¼×‘Ö¼×•Ö¹× Öµ×™ ×’Ö¼×•Ö¼×Ö´×™ ×Ö²×“Ö»×Ö´Ö¼×™×: 42</h3>
                    <div class="gummy-display" id="redGummies"></div>
                </div>
                
                <div class="gummy-section">
                    <h3 class="blue">×“Ö»Ö¼×‘Ö¼×•Ö¹× Öµ×™ ×’Ö¼×•Ö¼×Ö´×™ ×›Ö°Ö¼×—Ö»×œÖ´Ö¼×™×: 10</h3>
                    <div class="gummy-display" id="blueGummies"></div>
                </div>
                
                <div class="gummy-section">
                    <h3>× Ö·×—Ö²×©Öµ××™ ×’Ö¼×•Ö¼×Ö´×™: 2</h3>
                    <div class="gummy-display" id="snakes"></div>
                </div>
            </div>
            
            <!-- ××–×•×¨ ×”×—×™×©×•×‘ -->
            <div class="calculation-area">
                <div class="calc-title">ğŸ§® ×Öµ×–×•Ö¹×¨ ×”Ö·×—Ö´×™×©Ö¼××•Ö¼×‘</div>
                
                <div class="calc-row">
                    <div class="input-group">
                        <span class="input-label">×Ö²×“Ö»×Ö´Ö¼×™×</span>
                        <input type="number" class="calc-input" id="redInput" placeholder="0">
                    </div>
                    <span class="calc-operator">-</span>
                    <div class="input-group">
                        <span class="input-label">×™Ö°×¨Ö»×§Ö´Ö¼×™×</span>
                        <input type="number" class="calc-input" id="greenInput" placeholder="0">
                    </div>
                    <span class="calc-operator">=</span>
                    <div class="input-group">
                        <span class="input-label">×ªÖ¼×•Ö¹×¦Ö¸×Ö¸×”</span>
                        <input type="number" class="calc-input" id="resultInput">
                    </div>
                </div>
                
                <button class="calc-button" onclick="checkAnswer()">âœ¨ ×‘Ö´Ö¼×“Ö°×§×•Ö¼ ×ªÖ°Ö¼×©××•Ö¼×‘Ö¸×” âœ¨</button>
                
                <div class="result-area">
                    <div id="feedback">×œÖ·×—Ö²×¦×•Ö¼ ×¢Ö·×œ ×”Ö·×“Ö»Ö¼×‘Ö¼×•Ö¹× Ö´×™× ×›Ö°Ö¼×“Öµ×™ ×œÖ´×¡Ö°×¤Ö¹Ö¼×¨!</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function createGummies(containerId, count, color, emoji, targetInputId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            const updateInput = () => {
                if (!targetInputId) return;
                const input = document.getElementById(targetInputId);
                const total = container.querySelectorAll('.gummy.counted').length;
                
                input.value = total > 0 ? total : '';
                
                input.classList.remove('updated');
                void input.offsetWidth; 
                input.classList.add('updated');
                setTimeout(() => input.classList.remove('updated'), 500);
            };

            let bearsCreated = 0;
            
            while (bearsCreated < count) {
                const isFullTen = (count - bearsCreated) >= 10;
                const groupSize = isFullTen ? 10 : (count - bearsCreated);
                
                const rowDiv = document.createElement('div');
                rowDiv.className = 'ten-group';
                if (isFullTen) rowDiv.classList.add('full-ten');
                else rowDiv.classList.add('remainder');
                
                if (isFullTen && targetInputId) {
                    rowDiv.title = '×œ×—×¦×• ×›×“×™ ×œ×¡××Ÿ 10 ×“×•×‘×•× ×™×';
                    rowDiv.onclick = function() {
                        const allBears = rowDiv.querySelectorAll('.gummy');
                        const currentlySelected = rowDiv.querySelectorAll('.gummy.counted').length;
                        
                        const shouldSelect = currentlySelected < 10;
                        
                        allBears.forEach(bear => {
                            if (shouldSelect) bear.classList.add('counted');
                            else bear.classList.remove('counted');
                        });
                        
                        playSound(shouldSelect ? 'pop-up' : 'pop-down');
                        updateInput();
                    };
                }

                for (let i = 0; i < groupSize; i++) {
                    const gummy = document.createElement('span');
                    gummy.className = `gummy ${color}`;
                    gummy.textContent = emoji;
                    
                    if (!isFullTen && targetInputId) {
                        gummy.title = '×œ×—×¦×• ×›×“×™ ×œ×¡×¤×•×¨';
                        gummy.onclick = function(e) {
                            e.stopPropagation();
                            if (this.classList.contains('counted')) {
                                this.classList.remove('counted');
                                playSound('pop-down');
                            } else {
                                this.classList.add('counted');
                                playSound('pop-up');
                            }
                            updateInput();
                        };
                    }
                    
                    rowDiv.appendChild(gummy);
                    bearsCreated++;
                }
                
                container.appendChild(rowDiv);
            }
        }

        window.onload = function() {
            createGummies('greenGummies', 23, 'green', 'ğŸ»', 'greenInput');
            createGummies('redGummies', 42, 'red', 'ğŸ»', 'redInput');
            createGummies('blueGummies', 10, 'blue', 'ğŸ»', null);
            createGummies('snakes', 2, '', 'ğŸ', null);
        };
        
        function checkAnswer() {
            const redInput = parseInt(document.getElementById('redInput').value);
            const greenInput = parseInt(document.getElementById('greenInput').value);
            const resultInput = parseInt(document.getElementById('resultInput').value);
            const feedback = document.getElementById('feedback');
            
            if (isNaN(redInput) || isNaN(greenInput) || isNaN(resultInput)) {
                feedback.innerHTML = '<div class="result error">âš ï¸ ×Ö¸× Ö¸× ×Ö·×œÖ°××•Ö¼ ×Ö¶×ª ×›Ö¸Ö¼×œ ×”Ö·×©Ö°Ö¼×‚×“×•Ö¹×ª</div>';
                playSound('error');
                return;
            }
            
            if (redInput === 42 && greenInput === 23 && resultInput === 19) {
                feedback.innerHTML = '<div class="result">ğŸ‰ ×›Ö¸Ö¼×œ ×”Ö·×›Ö¸Ö¼×‘×•Ö¹×“! ×”Ö·×ªÖ°Ö¼×©××•Ö¼×‘Ö¸×” × Ö°×›×•Ö¹× Ö¸×”!<br><span dir="ltr" style="display:inline-block; direction: ltr;">42 - 23 = 19</span><br>×™Öµ×©× 19 ×™Ö°×¨Ö»×§Ö´Ö¼×™× ×¤Ö¸Ö¼×—×•Ö¹×ª ×Öµ×Ö²×“Ö»×Ö´Ö¼×™×! ğŸ¬</div>';
                playSound('success');
            } else {
                let errorMsg = 'âŒ ×œÖ¹× ×Ö°×“Ö»×™Ö¸Ö¼×§. × Ö·×¡Ö¼×•Ö¼ ×©××•Ö¼×‘!<br>';
                
                if (redInput !== 42) {
                    errorMsg += '<span style="font-size:0.8em">×˜Ö¸×¢×•Ö¼×ª ×‘Ö·Ö¼×Ö²×“Ö»×Ö´Ö¼×™× (×¡Ö´×¤Ö°×¨×•Ö¼ ×©××•Ö¼×‘ ×Ö¶×ª ×”Ö¸×¢Ö²×©Ö¸×‚×¨×•Ö¹×ª ×•Ö°×”Ö·×™Ö°Ö¼×—Ö´×™×“×•Ö¹×ª!)</span><br>';
                } else if (greenInput !== 23) {
                    errorMsg += '<span style="font-size:0.8em">×˜Ö¸×¢×•Ö¼×ª ×‘Ö·Ö¼×™Ö°Ö¼×¨Ö»×§Ö´Ö¼×™× (×¡Ö´×¤Ö°×¨×•Ö¼ ×©××•Ö¼×‘ ×Ö¶×ª ×”Ö¸×¢Ö²×©Ö¸×‚×¨×•Ö¹×ª ×•Ö°×”Ö·×™Ö°Ö¼×—Ö´×™×“×•Ö¹×ª!)</span><br>';
                } else if (resultInput !== 19) {
                    errorMsg += '<span style="font-size:0.8em">×”Ö·×Ö´Ö¼×¡Ö°×¤Ö¸Ö¼×¨Ö´×™× × Ö°×›×•Ö¹× Ö´×™×. ×›Ö·Ö¼×Ö¸Ö¼×” ×–Ö¶×” 42 ×¤Ö¸Ö¼×—×•Ö¹×ª 23?</span>';
                }
                
                feedback.innerHTML = `<div class="result error">${errorMsg}</div>`;
                playSound('error');
            }
        }

        function playSound(type) {
            try {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (!AudioContext) return;
                
                const ctx = new AudioContext();
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                
                osc.connect(gain);
                gain.connect(ctx.destination);
                
                const now = ctx.currentTime;

                if (type === 'success') {
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(523.25, now); 
                    osc.frequency.setValueAtTime(659.25, now + 0.1); 
                    osc.frequency.setValueAtTime(783.99, now + 0.2); 
                    osc.frequency.setValueAtTime(1046.50, now + 0.3); 
                    gain.gain.setValueAtTime(0.1, now);
                    gain.gain.exponentialRampToValueAtTime(0.001, now + 0.6);
                    osc.start(now);
                    osc.stop(now + 0.6);
                } else if (type === 'pop-up') {
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(400, now);
                    osc.frequency.linearRampToValueAtTime(600, now + 0.1);
                    gain.gain.setValueAtTime(0.1, now);
                    gain.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
                    osc.start(now);
                    osc.stop(now + 0.1);
                } else if (type === 'pop-down') {
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(600, now);
                    osc.frequency.linearRampToValueAtTime(400, now + 0.1);
                    gain.gain.setValueAtTime(0.1, now);
                    gain.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
                    osc.start(now);
                    osc.stop(now + 0.1);
                } else {
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(150, now);
                    gain.gain.setValueAtTime(0.1, now);
                    gain.gain.linearRampToValueAtTime(0.001, now + 0.3);
                    osc.start(now);
                    osc.stop(now + 0.3);
                }
            } catch (e) {
                console.log('Audio not supported');
            }
        }
        
        document.querySelectorAll('.calc-input').forEach(input => {
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkAnswer();
                }
            });
        });
    </script>
</body>
</html>
